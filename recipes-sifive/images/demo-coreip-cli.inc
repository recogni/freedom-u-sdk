DESCRIPTION = "SiFive RISC-V Core IP Demo Benchmarks Linux image"

IMAGE_FEATURES += "\
    hwcodecs \
    ssh-server-openssh \
    tools-sdk \
    tools-debug \
    tools-profile \
    doc-pkgs \
    dev-pkgs \
"

IMAGE_INSTALL += "\
    packagegroup-core-boot \
    packagegroup-core-full-cmdline \
    kernel-modules \
    kernel-dev \
    kernel-devsrc \
    sysstat \
    dhrystone \
    whetstone \
    wpa-supplicant \
    iperf3 \
    iperf2 \
    fio \
    tinymembench \
    memtester \
    lmbench \
    vim \
    nano \
    mc \
    chrony \
    chronyc \
    curl \
    wget \
    git \
    bind-utils \
    hexedit \
    pv \
    lsof \
    libgpiod \
    libgpiod-tools \
    libgpiod-dev \
    linux-firmware \
    i2c-tools \
    i2c-tools-misc \
    spitools \
    networkmanager \
    bluez5 \
    networkmanager-nmcli \
    networkmanager-nmtui \
    haveged \
    e2fsprogs-resize2fs \
    e2fsprogs-e2fsck \
    e2fsprogs-mke2fs \
    gparted \
    parted \
    gptfdisk \
    rsync \
    screen \
    tmux \
    stress-ng \
    nbd-client \
    mpfr-dev \
    gmp-dev \
    libmpc-dev \
    zlib-dev \
    flex \
    bison \
    dejagnu \
    gettext \
    texinfo \
    procps \
    sln \
    glibc-dev \
    glibc-utils \
    glibc-staticdev \
    elfutils \
    elfutils-dev \
    elfutils-binutils \
    elfutils-staticdev \
    libasm \
    libdw \
    libelf \
    pciutils \
    usbutils \
    devmem2 \
    mtd-utils \
    sysfsutils \
    htop \
    nvme-cli \
    python3 \
    cmake \
    ninja \
    python3-scons \
    libatomic-dev \
    libatomic-staticdev \
    libgomp-dev \
    libgomp-staticdev \
    libstdc++-dev \
    libstdc++-staticdev \
    dtc \
    pcimem \
    jq \
    hdparm \
    udev-extraconf \
    clang \
    clang-dev \
    clang-libllvm \
    clang-staticdev \
    compiler-rt \
    ldd \
    libcxx \
    openmp \
    wireless-regdb \
    info \
    gettext-runtime \
    gperf \
    perl-module-locale \
    perl-modules \
    iw \
    gnutls-bin \
    gnutls-dev \
    openssl-bin \
    openssl-dev \
    net-tools \
    man-pages \
    man-db \
    expect \
    gfortran \
    libgfortran \
    libgfortran-dev \
    gcov \
    gcov-symlinks \
    gcc-symlinks \
    gfortran-symlinks \
    g++-symlinks \
    gcc-plugins \
    gcc-dev \
    cpp-symlinks \
    boost-staticdev \
    zlib-staticdev \
    binutils-staticdev \
    libaio-staticdev \
    libatomic-ops-staticdev \
    libbsd-staticdev \
    openmp-staticdev \
    patchelf \
    python3-pip \
    python3-setuptools \
    openssh-misc \
    openssh-sftp \
    openssh-sftp-server \
    lmsensors \
    smartmontools \
    cpupower \
    libubootenv-bin \
    u-boot-tools-mkimage \
    u-boot-tools-mkenvimage \
    tree \
    gdbserver \
    exfat-utils \
    xfsdump \
    xfsprogs \
    xfsprogs-fsck \
    xfsprogs-mkfs \
    xfsprogs-repair \
    btrfs-tools \
    perf-python \
    vmtouch \
    libtensorflow-lite \
    python3-tensorflow-lite \
    python3-tensorflow-lite-example \
    python3-tensorflow-lite-demo \
    tensorflow-lite-label-image \
    tensorflow-lite-minimal \
    coremark \
    trace-cmd \
    opencv \
    kvmtool \
    qemu-system-riscv64 \
    ${CORE_IMAGE_EXTRA_INSTALL} \
    "

IMAGE_INSTALL:append:freedom-u540 = " \
    unleashed-udev-rules \
    "

IMAGE_INSTALL:append:unmatched = " \
    unmatched-udev-rules \
    "

IMAGE_INSTALL:remove:hifive-premier-p550 = " \
    wireless-regdb \
    "

IMAGE_INSTALL:append:hifive-premier-p550 = " \
    alsa-lib \
    alsa-utils \
    dhcpcd \
    hostapd \
    lsscsi \
    lmsensors \
    lmsensors-config-fancontrol \
    wireless-regdb-static \
    es-bmcd \
    "

inherit core-image
